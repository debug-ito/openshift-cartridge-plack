#!/usr/bin/env perl

use strict;
use warnings;
use Daemon::Control;

Daemon::Control->new({
    name => $ENV{OPENSHIFT_APP_NAME},
    program => "plackup",
    program_args => ["$ENV{OPENSHIFT_REPO_DIR}/app.psgi",
                     "--port", "$ENV{OPENSHIFT_PLACK_PORT}", "--host", "$ENV{OPENSHIFT_PLACK_IP}"],
    ## init_config => "path/to/shell_script/to/set/environment",
    pid_file => "$ENV{OPENSHIFT_PLACK_DIR}/run/plackup.pid",
    fork => 2,
})->run();


